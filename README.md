# ApplicationCenter
📘 Инструкция по работе с системой подачи и обработки заявок
🖥️ Клиентская и серверная часть
🔧 Общая структура проекта
Проект включает:

🌐 Фронтенд (интерфейс) – HTML/JS-интерфейс, расположенный в wwwroot:

/index.html – пользовательская панель подачи заявок

/admin/index.html – админ-панель для обработки заявок

🔙 Бэкенд (ASP.NET Core Web API):

Контроллеры: RegistrationController, AuthorizationController, ApplicationsController, AdminController

Работа с БД через EF Core (ApplicationCenterContext)

Хранение файлов и XML-документов

👤 1. Регистрация пользователя (интерфейс)
📍 Где:
Страница регистрации: register.html

🧾 Что делает пользователь:
Вводит ФИО, Email, Телефон, Адрес, Место работы, Логин и Пароль

Нажимает кнопку "Зарегистрироваться"

📡 Что происходит:
Отправляется POST-запрос на api/registration/register в формате XML

В случае успеха — редирект на форму авторизации

🔐 2. Авторизация пользователя
📍 Где:
Страница входа: login.html

🧾 Что делает пользователь:
Вводит логин и пароль

Нажимает "Войти"

📡 Что происходит:
Отправляется POST-запрос на api/authorization/authorize (JSON)

Если пользователь — admin, редирект на /admin/index.html

Если обычный пользователь — редирект на /index.html

Полученный userId сохраняется в localStorage

📝 3. Подача заявки
📍 Где:
Страница подачи заявки: index.html

🧾 Что делает пользователь:
Вводит данные:

ФИО

Email

Телефон

Тип услуги

Комментарий

Прикрепляет один или несколько файлов

Нажимает "Отправить заявку"

📡 Что происходит:
Формируется multipart/form-data запрос

Отправляется на POST /api/applications

Сервер:

сохраняет файлы в /uploads/

формирует XML с внедрённым CSS

сохраняет XML и путь в БД

Отображается сообщение об успешной отправке

📬 4. Просмотр своих заявок
📍 Где:
Также на index.html

🧾 Что делает пользователь:
После входа данные пользователя автоматически загружаются

Пользователь видит список своих заявок с полями:

Дата

Статус

Ссылки на XML-документ

Список приложенных файлов

📡 Что происходит:
GET /api/applications/{userId} запрашивает список заявок по ID

🛠️ 5. Администрирование заявок
📍 Где:
Страница администратора: /admin/index.html

🧾 Что делает администратор:
Входит с логином/паролем admin/admin

Видит список всех заявок

Может:

Изменять статус (Новая, В работе, Завершена)

Загрузить откорректированный XML

Скачать файлы

📡 Что происходит:
POST /api/admin/updatestatus/{applicationId} — обновляет статус и XML